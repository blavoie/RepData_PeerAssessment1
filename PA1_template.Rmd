---
title: 'Reproducible Research: Peer Assessment 1'
output:
  html_document:
    keep_md: yes
  pdf_document: default
---


## Loading libraries
```{r, echo=TRUE}
library(ggplot2)
library(dplyr)
```


## Loading and preprocessing the data

Extract data from zip file into a data folder if it doesn't exists.

```{r, echo=TRUE}
if(!file.exists("./data")) {
  dir.create("./data")
  unzip(zipfile = "./activity.zip", exdir = "./data")
}
```

Load activity data from extracted file.

```{r, echo=TRUE}
activity <- read.csv('./data/activity.csv', stringsAsFactors = FALSE)
```

Explicitly convert the date field.

```{r, echo=TRUE}
activity$date <- as.Date(activity$date, format = "%Y-%m-%d")
```


## What is mean total number of steps taken per day?


### Calculate total number of steps taken per day    

```{r, echo=TRUE}
activity.per.day <- activity %>% group_by(date) %>% summarize (steps = sum(steps))
```


### Show the total number of steps per day with an histogram

```{r, echo=TRUE}
qplot(date, data=activity.per.day, weight=steps, geom="histogram", binwidth=1)
```


### Mean and median of the total number of steps taken per day

```{r, echo=TRUE}
mean(activity.per.day$steps, na.rm = T)
median(activity.per.day$steps, na.rm = T)
```

## What is the average daily activity pattern?

### Average of steps taken across all 5 minutes inverval

Calculate the average steps for each 5 minutes interval.

```{r, echo=TRUE}
activity.per.5mins <- activity %>% 
  group_by(interval) %>% 
  summarize (steps = mean(steps, na.rm = T))
```

Plot the result.

```{r, echo=TRUE}
qplot(x = interval, y = steps, data = activity.per.5mins, geom = 'line')
```

### Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps

################## here

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
